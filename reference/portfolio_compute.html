<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Portfolio Compute — portfolio_compute • dispositionEffect</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Portfolio Compute — portfolio_compute" />
<meta property="og:description" content="Computation of all the transaction updates and the
realized and paper gains and losses for each assets." />
<meta property="og:image" content="https://marcozanotti.github.io/dispositionEffect/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dispositionEffect</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/de-analysis.html">The Analysis of Disposition Effect</a>
    </li>
    <li>
      <a href="../articles/de-parallel.html">Disposition Effect in Parallel</a>
    </li>
    <li>
      <a href="../articles/de-timeseries.html">Time Series Disposition Effect</a>
    </li>
    <li>
      <a href="../articles/getting-started.html">Getting Started</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/marcozanotti/dispositionEffect/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Portfolio Compute</h1>
    <small class="dont-index">Source: <a href='https://github.com/marcozanotti/dispositionEffect/blob/master/R/portfolio_compute.R'><code>R/portfolio_compute.R</code></a></small>
    <div class="hidden name"><code>portfolio_compute.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Computation of all the transaction updates and the
realized and paper gains and losses for each assets.</p>
    </div>

    <pre class="usage"><span class='fu'>portfolio_compute</span><span class='op'>(</span>
  <span class='va'>portfolio_transactions</span>,
  <span class='va'>market_prices</span>,
  method <span class='op'>=</span> <span class='st'>"count"</span>,
  allow_short <span class='op'>=</span> <span class='cn'>TRUE</span>,
  time_threshold <span class='op'>=</span> <span class='st'>"0 mins"</span>,
  exact_market_prices <span class='op'>=</span> <span class='cn'>TRUE</span>,
  portfolio_driven_DE <span class='op'>=</span> <span class='cn'>FALSE</span>,
  time_series_DE <span class='op'>=</span> <span class='cn'>FALSE</span>,
  assets_time_series_DE <span class='op'>=</span> <span class='cn'>NULL</span>,
  verbose <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span>,
  progress <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>portfolio_transactions</th>
      <td><p>Data frame. The investor's transactions data frame.</p></td>
    </tr>
    <tr>
      <th>market_prices</th>
      <td><p>Data frame containing the market prices.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>Character string containing the method to use to compute
realized and paper gains and losses. If "none" nothing is computed but the
investor's portfolio updates. Otherwise it has to be one of "count" (default),
"total", "value", "duration", or "all".</p></td>
    </tr>
    <tr>
      <th>allow_short</th>
      <td><p>Logical. If TRUE short positions are allowed, otherwise only
long positions are allowed.</p></td>
    </tr>
    <tr>
      <th>time_threshold</th>
      <td><p>Character in the format "value units" indicating the
time threshold at which the computed financial difftime has to be evaluated
(for instance "05 mins" or "20 hours").
The allowed units are "secs", "mins", "hours", "days" and "weeks"
(See <code>base::<a href='https://rdrr.io/r/base/difftime.html'>difftime</a></code>).</p></td>
    </tr>
    <tr>
      <th>exact_market_prices</th>
      <td><p>Logical. If TRUE then <code><a href='closest_market_price.html'>closest_market_price</a></code>
uses exact datetime match to look for the closest price of each asset.
It usually speeds up computation by a small degree, but it requires the
<code>market_prices</code> to have the prices for each transaction asset along each
transaction datatimes.</p></td>
    </tr>
    <tr>
      <th>portfolio_driven_DE</th>
      <td><p>Logical. If TRUE the realized and paper gains and
losses for the positive (that is when the investor's portfolio value, as
computed through <code><a href='evaluate.html'>evaluate_portfolio</a></code>, is greater than zero)
and the negative (that is when the investor's portfolio value, as computed
through <code><a href='evaluate.html'>evaluate_portfolio</a></code>, is smaller than zero) portfolios
are returned.</p></td>
    </tr>
    <tr>
      <th>time_series_DE</th>
      <td><p>Logical. If TRUE the time series of disposition effect
is computed on 'count' and 'value' methods only.</p></td>
    </tr>
    <tr>
      <th>assets_time_series_DE</th>
      <td><p>Character vector of assets' names as contained
into <code>portfolio_transactions</code> on which to compute the time series disposition
effect.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Numeric or logical vector of length 2 that allows to control
for the function verbosity.</p></td>
    </tr>
    <tr>
      <th>progress</th>
      <td><p>Logical. If TRUE a progress bar is displayed.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame containing the investor's
portfolio and the values of realized and paper gains and losses
computed by means of the chosen method on each portfolio assets.</p>
<p>If time_series_DE is set to TRUE, then also time series disposition effect
results are returned.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='realized_compute.html'>realized_compute</a></code>, <code><a href='paper_compute.html'>paper_compute</a></code>,
<code><a href='gains_losses.html'>gains_losses</a></code></p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Lorenzo Mazzucchelli, Marco Zanotti.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


